(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,function(e,n,t){e.exports=t(13)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),i=t(4),a=t.n(i),c=(t(11),t(1)),l=t(2),u=t(5),f=(t(12),function(e,n,t){for(var o=[],r=n-1;r<=n+1;r++)for(var i=t-1;i<=t+1;i++)n===r&&t===i||r>=e.length||r<0||i>=e[r].length||i<0||o.push({x:r,y:i,val:e[r][i].val});return o}),s=function(e,n,t){return f(e,n,t).reduce((function(e,n){return e+n.val}),0)},d=function(e){var n=e.number,t=e.clicked,o=e.index1,i=e.index2,a=e.shown,c=e.isbomb,l=e.flagged,u=e.flag,f=e.touched,s=e.touchCancelled;return r.a.createElement("div",{onClick:function(){return t(o,i)},onTouchStart:function(){return f},onTouchCancel:function(){return s},onContextMenu:function(e){e.preventDefault(),u(o,i)},className:"gridPiece",style:{backgroundColor:a&&c?"red":l?"yellow":null}},a&&!c?n:l?"\ud83d\udea9":c&&a?"\ud83d\udca3":null)},h=function(){var e=[],n=[],t=function(){var t=new Array(10).fill(0).map((function(t,o){return new Array(15).fill(0).map((function(t,r){var i=Math.floor(7*Math.random());return i>0&&e.push({x:o,y:r}),0===i&&n.push({x:o,y:r}),{flagged:!1,shown:!1,val:0===i?1:0}}))})),o=e[Math.floor(Math.random()*e.length)],r=o.x,i=o.y;return t[r][i].shown=!0,t.map((function(e,n){return e.map((function(e,o){return Object(u.a)({},e,{bombCount:s(t,n,o)})}))}))},r=Object(o.useState)(t()),i=Object(l.a)(r,2),a=i[0],d=i[1],h=function e(n,t,o,r){var i=f(n,t,o);if(0===n[t][o].bombCount){var a=[];i.forEach((function(e){var t=e.x,o=e.y,r=e.val;0===n[t][o].bombCount&&0===r&&a.push({x:t,y:o})})),function e(n,t){if(t.length){var o=t[0],r=o.x,i=o.y;n[r][i].shown=!0,d(Object(c.a)(n)),setTimeout((function(){return e(n,Object(c.a)(t.slice(1)))}),.01)}}(n,a),r.find((function(e){return e.x===t&&e.y===o}))||(r.push({x:t,y:o}),setTimeout((function(){a.forEach((function(t){var o=t.x,i=t.y;e(n,o,i,r)}))}),.01))}};return[a,function(e,n){a[e][n].flagged||a[e][n].shown||(a[e][n].shown=!0,h(a,e,n,[]),d(Object(c.a)(a)))},function(){return d(t())},function(e,n){a[e][n].flagged=!a[e][n].flagged,d(Object(c.a)(a))},function(){a.map((function(e){return e.map((function(e){return e.shown=!0}))}))},function(){return e.filter((function(e){return!a[e.x][e.y].shown})),0===e.length}]},m=function(e){var n=e.gameState,t=e.resetGame;return r.a.createElement("div",{style:{textAlign:"center",position:"absolute",color:"win"===n?"green":"pink",fontSize:"2em",top:"10%",left:"25%",height:"20%"}},r.a.createElement("h1",null,"win"===n?"You won!":"You lose."),r.a.createElement("button",{onClick:function(){return t()}},"Play Again?"))};var g=function(){var e=h(),n=Object(l.a)(e,6),t=n[0],i=n[1],a=n[2],c=n[3],u=n[4],f=n[5],s=Object(o.useState)(""),g=Object(l.a)(s,2),v=g[0],p=g[1],w=function(e,n){if(""===v){if(i(e,n),1===t[e][n].val)return p("lose"),void u();f(t)&&p("win")}},b=null,y=function(){clearTimeout(b)},k=function(e,n){b=setTimeout((function(){return c(e,n)}),1e3)};return r.a.createElement("div",{id:"container"},r.a.createElement("div",{className:"App"},r.a.createElement("h1",{id:"title"},"Minesweeper made in React!"),r.a.createElement("p",null,"Left click to reveal and right click to flag."),""!==v?r.a.createElement(m,{gameState:v,resetGame:function(){p(""),a()}}):null,r.a.createElement("div",{className:"grid"},t.map((function(e,n){return r.a.createElement("div",{key:n,style:{display:"flex"}},e.map((function(e,t){return r.a.createElement(d,{key:t,shown:e.shown,number:e.bombCount,isbomb:1===e.val,index1:n,index2:t,clicked:w,flagged:e.flagged,flag:c,touched:k,touchCancelled:y})})))}))),r.a.createElement("p",null,"Developed by Giulio Rossi. Check out more at"," ",r.a.createElement("a",{href:"https://ciuffi.dev",rel:"noopener noreferrer",target:"_blank",style:{color:"lightblue"}},"Ciuffi.dev"))))},v=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function p(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(r.a.createElement(g,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");v?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):p(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):p(n,e)}))}}()}],[[6,1,2]]]);
//# sourceMappingURL=main.05ca073a.chunk.js.map