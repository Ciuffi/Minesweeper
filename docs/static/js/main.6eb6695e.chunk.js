(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,function(e,n,t){e.exports=t(13)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),a=t(4),i=t.n(a),c=(t(11),t(2)),l=t(1),u=t(5),s=(t(12),function(e,n,t){return function(e,n,t){for(var o=[],r=n-1;r<=n+1;r++)for(var a=t-1;a<=t+1;a++)n===r&&t===a||r>=e.length||r<0||a>=e[r].length||a<0||o.push({x:r,y:a,val:e[r][a].val});return o}(e,n,t).reduce((function(e,n){return e+n.val}),0)}),f=function(e){var n=e.number,t=e.clicked,o=e.index1,a=e.index2,i=e.shown,c=e.isbomb,l=e.flagged,u=e.flag;return r.a.createElement("div",{onClick:function(){return t(o,a)},onContextMenu:function(e){e.preventDefault(),u(o,a)},className:"gridPiece",style:{backgroundColor:i&&c?"red":l?"yellow":null}},i&&!c?n:null)},d=function(e){var n=e.state,t=e.resetGame;return r.a.createElement("div",{style:{textAlign:"center",position:"absolute",color:"win"===n?"green":"pink",fontSize:"2em",top:"10%",left:"25%",height:"20%"}},r.a.createElement("h1",null,"win"===n?"You won!":"You lose."),r.a.createElement("button",{onClick:function(){return t()}},"Play Again?"))};var h=function(){var e=function(){var e=[],n=function(){var n=new Array(10).fill(0).map((function(n,t){return new Array(15).fill(0).map((function(n,o){var r=Math.floor(2*Math.random());return 0===r&&e.push({x:t,y:o}),{flagged:!1,shown:!1,val:r}}))})),t=e[Math.floor(Math.random()*e.length)],o=t.x,r=t.y;return n[o][r].shown=!0,n.map((function(e,t){return e.map((function(e,o){return Object(u.a)({},e,{bombCount:s(n,t,o)})}))}))},t=Object(o.useState)(n()),r=Object(l.a)(t,2),a=r[0],i=r[1];return[a,function(e,n){a[e][n].shown=!0,i(Object(c.a)(a))},function(){return i(n())},function(e,n){a[e][n].flagged=!a[e][n].flagged,i(Object(c.a)(a))},function(){a.map((function(e){return e.map((function(e){return e.shown=!0}))}))}]}(),n=Object(l.a)(e,5),t=n[0],a=n[1],i=n[2],h=n[3],v=n[4],g=Object(o.useState)(""),m=Object(l.a)(g,2),p=m[0],w=m[1],b=function(e,n){if(""===p){if(a(e,n),1===t[e][n].val)return w("lose"),void v();(function(e){for(var n=0;n<e.length;n++)for(var t=0;t<e[n].length;t++){var o=e[n][t];if(!1===o.shown&&0===o.val)return!1}return!0})(t)&&w("win")}};return r.a.createElement("div",{id:"container"},r.a.createElement("div",{className:"App"},r.a.createElement("h1",{id:"title"},"Minesweeper made in React!"),""!==p?r.a.createElement(d,{gameState:p,resetGame:function(){w(""),i()}}):null,r.a.createElement("div",{className:"grid"},t.map((function(e,n){return r.a.createElement("div",{key:n,style:{display:"flex"}},e.map((function(e,t){return r.a.createElement(f,{key:t,shown:e.shown,number:e.bombCount,isbomb:1===e.val,index1:n,index2:t,clicked:b,flagged:e.flagged,flag:h})})))}))),r.a.createElement("p",null,"Developed by Giulio Rossi. Check out more at"," ",r.a.createElement("a",{href:"https://ciuffi.dev",rel:"noopener noreferrer",target:"_blank",style:{color:"lightblue"}},"Ciuffi.dev"))))},v=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function g(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(h,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");v?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var o=t.headers.get("content-type");404===t.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):g(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):g(n,e)}))}}()}],[[6,1,2]]]);
//# sourceMappingURL=main.6eb6695e.chunk.js.map